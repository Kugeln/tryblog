---
title: 408错漏知识
date: 2025-07-10 16:42:19
tags: 408日常
sticky: 339
categories: 408
banner_img: /img/1920x1080 (34).jpg
index_img: /img/1920x1080 (34).jpg
math: true
---

## DS（数据结构）

### 外部排序

* I/O次数的计算：初始归并段生成的I/O次数+归并时的I/O次数
  * 初始归并段生成的I/O次数=磁盘块数*2（读写各I/O一次）
  * 归并时的I/O次数=磁盘块数* 2 *归并趟数
* 败者树中非叶子节点存储的是失败者的标记（归并段下标），而叶子节点存储的是各个路当前记录的索引值
* 败者树的空间复杂度是O(n)，时间复杂度是O(nlogn)
* 败者树为k路归并段内部排序所使用的，用于提高内部排序效率，与I/O次数无关

### 链表

* 单链表中删除一个节点有两种方法
  * 1、将该点直接删除，让该点的上一个节点直接指向该点的下一个节点
  * 2、将该点变成该点的下一个点

## CO（计组）

### 指令系统

### 中央处理器

#### 微程序控制器

* 微程序控制器中，执行指令微程序的首条微指令地址是**指令操作码**译码得到的

### 指令流水线

#### 数据冒险

* 旁路转发技术和load-use冒险：

  ![](/img/202405222222529.png)

  * load指令**在第四周期即M访存阶段结束时**，数据在流水段寄存器中已经有值，在此时可以采用数据转发技术可以使load指令后面第二条指令得到所需的指，但不能解决load指令和随后的第一条指令之间的数据冒险，**要延迟执行一条指令**

  ![](/img/202405222232608.png)

  ![](/img/202405222234220.png)

  * **普通数据冒险采用旁路转发技术不需要阻塞，而load-use需要阻塞一个时钟周期的根本原因是所需数据产生的阶段不同，使用ALU计算获得结果（所需数据）的在EX阶段可以产生所需数据，而load指令在M阶段从内存中获取所需数据**
  * load指令中的ID和EX是在获取所需数据的内存地址，M访存获得所需数据

* lw指令：从内存中读取一个字，并将其放在一个寄存器中

  sw指令：将一个寄存器中的字写入内存中

### 总线

* 采用数据/地址总线复用技术，总线中保留数据线，地址经过数据线传输

### 中断和异常

![](/img/211409.jpg)

* 概念厘清
  * 中断向量
    * **中断处理程序的入口地址（首地址）**
  * 中断类型号
    * **标识终端类型的编号**
  * 中断向量地址
    * **保存中断向量的内存地址，在中断响应阶段由中断向量地址形成部件（硬件）生成**
  * 中断优先级
    * 中断响应优先级
      * **硬件产生且不可更改**
    * 中断处理优先级
      * 由排队器、中断屏蔽字等硬件决定
  * 中断向量表
    * 记录了**中断编号和中断向量的对应关系**

## OS（操作系统）

### 操作系统概述

#### 进程的状态

* 挂起态通常是由于终端用户请求、父进程请求、系统负荷调节或者操作系统自身需要等原因，将进程置于静止状态

### 进程和线程

#### 互斥

* 自旋锁具有随机性，不能保证按先来后到的顺序使用cpu资源

  * 自旋锁：当进程申请锁之败后，会已知循环申请锁直到成功

  ![](/img/165446.jpg)

* 创建共享内存需要通过系统调用实现，需要先进入内核态，内核在物理内存中分配一块连续区域，指定共享内存的访问权限（如读写权限）和大小，然后进程再通过系统调用将共享内存映射到自己的虚拟地址空间。

#### 进程调度

![](/img/Cache_-248a4a6132183be9(1).png)

### I/O

* ![](/img/3b4b4b7b-1d7e-4d06-b711-746bfcb3b128.png)

  ![](/img/be1df64f-5f9c-4787-81ad-6895df8c797e.png)

* 统一编址方式下，I/O地址是存储地址的一部分，可以直接用访存指令访问I/O设备，区分存储单元和I/O设备是依靠它们的地址码

* 独立编址方式下，需要用专门的I/O指令来访问I/O设备，区分存储单元和I/O设备是依靠指令类型

* **唤醒**因为I/O操作被阻塞的进程由**中断服务程序**完成。

  * **阻塞**I/O操作进程由对应的**系统调用服务例程**完成
  * 将数据**从设备控制器的寄存器送往内核缓冲区**由**中断服务程序**完成
  * 将数据**从内核缓冲区送往用户缓冲区**由**系统调用服务程序**在唤醒后完成
  * **初始化外设**的代码在**驱动程序**中

  ![](/img/15013.jpg)

* DMA进行数据传送之前，CPU先执行一段初始化程序，完成对DMA控制器中各参数寄存器的初始值的设定，因此**通过软件完成对DMA控制器中各参数寄存器的初始值的设定**

* 发生缺页中断时，若在缺页处理程序中将缺页调入内存采用DMA方式，则需要把磁盘物理地址写入DMA控制器中的设备地址寄存器DAR，将交换数据的主存起始位置（该页面的页基址）写入DMA接口中的主存地址寄存器

### 内存管理

![](/img/md2card-1750735950162-1(1).png)

#### 虚拟存储管理

* 页式存储管理方式的虚拟地址空间维度是一维的

  * 段式存储管理方式的虚拟地址空间是二维的
  * 段页式存储管理方式的虚拟地址空间是二维的

  ![](/img/215613.jpg)

* 页式存储管理中每个进程有一个页表

* 段式存储管理中每个进程都有一个段表

* 段页式存储管理中，每个进程都有一个段表，每个进程的每个段都有一个页表

#### 内存映射文件

![](/img/221511.jpg)

## CN（计网）



