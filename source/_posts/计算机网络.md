---
title: 计算机网络
date: 2024-08-06 05:26:25
tags:
---

## (25版)408王道教材与湖科大教书匠 深入浅出计算机网络 微课视频逐一对照表:（自用，仅供参考） 

第1章 计算机网络体系结构 

1.1 计算机网络概述 2～7 

1.2 计算机网络体系结构与参考模型11-8-9-10 

第2章 物理层 2.1 通信基础 14-16-15 

2.2 传输介质 13-12 

2.3 物理层设备 （无，参考王道P20） 

第3章 数据链路层 

3.1 数据链路层的功能 18-19 

3.2 组帧 20 

3.3 差错控制 21 

3.4 流量控制与可靠传输机制 22~25 

3.5 介质访问控制 17-29-30-31-46 

3.6 局域网 28-39-42-43-44-45-47-40-41 

3.7 广域网 26-27 

3.8 数据链路层设备 32～38 

第4章 网络层 

4.1 网络层的功能 48-49-78 

4.2 IPv4 50-58-51-66，52～56，93-65 

4.3 lPv6 73～77 

4.4 路由算法与路由协议 59～63 

4.5 IP多播 67～71 

4.6 移动IP 72 

4.7 网络层设备 64-57 

第5章 传输层 

5.1 传输层提供的服务 79-81-80 

5.2 UDP协议 82 

5.3 TCP协议 83-84-85-88-89-90-86-87 

第6章 应用层 

6.1 网络应用模型 91-92 

6.2 域名系统(DNS) 94 

6.3 文件传输协议(FTP) 95 

6.4 电子邮件 96 

6.5 万维网(WWW) 97 完结撒花

## 第一章 概述

### 1.1 信息时代的计算机网络

### 1.2 因特网概述

#### 网络、互联网与因特网的区别与联系

![](/img/2143124.png)

![](/img/234.png)

![](/img/20240808.png)

* 若干网络通过路由器互连起来，就构成了互联网

![](/img/2314213412231.png)

* 因特网是当今世界上最大的互联网
* 路由器是用于网络互连的专用设备，一般不称其为主机

##### 总结

![](/img/8731597.png)

* 特别注意

![](/img/8159709.png)

#### 互联网发展的三个阶段

![](/img/193240809.png)

#### 因特网服务提供者（ISP）

![](/img/98430157.png)

#### 因特网已经发展成为基于ISP的多层次结构的互连网络

![](/img/823094.png)

* 第一层ISP是国际级的，覆盖面积最大，并且拥有高速链路和交换设备，第一层ISP之间相互连接构成因特网主干网
* 第二层ISP是区域级或国家级的，与少数第一层ISP相连接，作为第一层ISP的用户，一些大公司也是第一层ISP的用户
* 第三层ISP是本地级的，与第二层ISP相连接，作为第二层ISP的用户
* 普通的校园网、企业网、住宅用户以及移动用户等，都是第三层ISP的用户
* 已接入因特网的用户也可以成为一个ISP，只需要购买一些相关的设备，例如调制解调器、路由器等，堂其他用户能够通过他来接入因特网
* 因特网的结构实际上是基于ISP的多层次结构，各ISP可以在因特网拓扑上添加新的层次和分支

#### 因特网的标准化工作

![](/img/1234135.png)

#### 因特网的管理机构

![](/img/43r14.png)

#### 因特网的组成

![](/img/3421444.png)

* 因特网的边缘部分由连接在因特网上的台式电脑、服务器、笔记本电脑、平板电脑、智能手机、智能手表、网络摄像头以及网络打印机等用户设备构成，这些用户设备常称为主机，由用户直接使用，为用户直接提供各式各样的网络应用
* 因特网的核心部分由大量异构型网络和连接这些网络的路由器构成
* 因特网的核心部分为其边缘部分提供连通性和数据交换等服务
* 在网络核心部分起特殊作用的是路由器，它是一种专用计算机，但我们不称其为主机
  * 路由器是实现分组交换的关键构件，其任务是转发收到的分组，这是网络核心部分最重要的功能

### 1.3 电路交换、分组交换和报文交换

#### 电路交换

![](/img/341243879.png)

* 电话交换机接通电话线的方式就是电路交换
* 建立连接：
  * 例如，在使用电路交换打电话之前，主叫方必须首先进行拨号，以请求建立连接，当被叫方听到电话交换机送来的振铃音，并摘机后，从主叫方到被叫方就建立了一条专用的物理通路，简称连接
  * 这条连接为通话双方提供了通信资源，之后主叫方和被叫方可以基于连接进行通话
  * 整个通话期间，通话双方一直占用着连接，通信资源不会被其他用户占用
  * 通话完毕挂机后，从主叫方到被叫方的这条专用物理通路被交换机释放，将双方所占用的通信资源归还给电信网

![](/img/315235.png)

* 因此，计算机网络通常采用分组交换而非电路交换

#### 分组交换

![](/img/124970.png)

* 假设主机H1的用户要给主机H3的用户发送一条消息
  * 通常，我们把表示消息的整块数据称为一个报文，较长的报文一般不适宜直接传输，如果报文太长，则对交换节点的缓存容量有很大的需求，在错误处理方面也会比较低效，因此，需要将较长的报文划分成若干个较小的等长数据段，在每个数据段前面，添加一些由必要的控制信息组成的首部，这样就构成了一个个分组

![](/img/51230.png)

* 首部中包含了分组的目的地址
  * 源主机将分组发送到分组交换网中，分组交换网中的交换结点收到一个分组后先将其缓存下来，然后从其首部中提取出目的地址，按照目的地址查找自己的转发表，找到相应的转发接口后，将分组转发出去，把分组交给下一个交换节点，经过多个交换节点的存储转发后，分组最终被转发到目的主机

![](/img/5123879.png)

![](/img/294310.png)

* 目的主机收到这些分组后，去掉他们各自的首部，将各数据段组合还原出原始报文

![](/img/2317409.png)

![](/img/4231345.png)

##### 报文交换

![](/img/52381.png)

![](/img/395820.png)

* 报文交换数据交换单元为整个报文，传送路径中的交换节点只有站在完整接收到整个报文后，才能对其进行存储转发
* 分组交换下各交换节点在转发分组的同时还缓存接收到的分组

### 1.4 计算机网络的定义和分类

#### 总结

![](/img/721340.png)

#### 计算机网络的定义

![](/img/1597032.png)

![](/img/23415169002.png)

![](/img/819507.png)

#### 计算机网络的分类

![](/img/8392107.png)

![](/img/2538179.png)

![](/img/9035421809.png)

![](/img/2395180959023.png)

* 有线网络包括双绞线网络、光纤网络等

![](/img/34851.png)

* 记住英文缩写尤其是WAN和LAN

![](/img/4351980.png)

* 广域网是因特网的核心部分，它为因特网核心路由器提供远距离高速连接，互连分布在不同国家和地区的城域网和局域网
* 城域网通常作为城市骨干网，互联大量机构、企业以及校园局域网
* 局域网通常由微型计算机或工作站通过速率为10Mb/s以上的高速链路相连
* 个域网是个人区域网的简称，覆盖范围一般为10m，主要用于个人工作的地方，把属于个人使用的笔记本电脑、键盘、鼠标、耳机以及打印机等电子设备用wifi或者蓝牙等无线技术连接起来的网络，因此也常称为无线个域网WPAN

![](/img/5431897.png)

* 使用单根传输线把计算机连接起来
  * 优点是建网容易，增减节点方便，节省线路
  * 缺点是重负载时通信效率不高，总线任意一处出现故障，则全网瘫痪

![](/img/534980.png)

* 每个计算机都以单独的线路与中央设备相连
  * 中央设备早期是计算机，后来是集线器，现在一般是交换机或者路由器
  * 优点是便于网络的集中控制和管理
  * 缺点是成本高，中央设备对故障敏感

![](/img/43910.png)

* 所有计算机的网络接口都连接成一个环，最典型的例子是令牌环局域网
  * 环可以是单环，也可以是双环，环中信号是单向传输的

![](/img/183450.png)

* 每个节点至少有两条路径与其他节点相连，多用在广域网中
  * 其优点是可靠性高
  * 缺点是控制复杂、路线成本高
* 以上四种拓扑结构还可以互连为更复杂的网络

### 1.5 计算机网络的性能指标

![](/img/92530.png)

#### 速率

![](/img/5235325.png)

![](/img/78215390.png)

![](/img/213589.png)

![](/img/413589.png)

#### 带宽

![](/img/4813955.png)

![](/img/483170.png)

![](/img/43515135.png)

* 在构建网络时，应该做到各设备以及传输介质的速率匹配，这样才能完全发挥出本应具有的传输性能

#### 吞吐量

![](/img/1515152.png)

#### 时延

![](/img/341512535.png)

![](/img/4128390.png)

![](/img/85349.png)

* 分组在每个路由器上产生的排队时延的长短，往往取决于网络当时的通信量和各路由器的自身性能
  * 由于网络的通信量随时间变化很大，各路由器的性能也可能并不完全相同，因此，排队时延一般无法用一个简单的公式进行计算 
    * 当网络通信量很大时，可能会造成路由器的队列溢出，使得分组丢失，相当于排队时延无穷大

![](/img/781323.png)

* 分组经过路由器的转发传输到目的主机，这又会耗费路由器的一个发送时延，以及代表该分组的电信号在另一段链路上传播所耗费的传播时延

![](/img/84321950.png)

* 上述三种信号传播速率应当作为必备常识记住
* 电磁波在自由空间的传播速率就是光速
* 光纤的带宽很大，即所能承载的最高数据传送速率很大（单位时间内可传送更多的bit）

![](/img/347810.png)

![](/img/24310223.png)

* 此图为了方便起见并没有画出排队时延和处理时延

![](/img/32155312.png)

* 在不考虑排队时延和处理时延的情况下，源主机通过n个路由器的转发，给目的主机发送m个分组的总时延计算公式（假设各分组各链路等长，主机和路由器的发送速率相等）
  * 总时延计算公式=m个分组的发送时延+（n+1）个路由器的传播时延+n个路由器的发送时延
    * 总时延=（m+n）发送时延+（n+1）传播时延

![743180](/img/743180.png)

![34891](/img/34891.png)

![5413532](/img/5413532.png)

![342515523532](/img/342515523532.png)

* 在不考虑处理时延和排队时延的情况下，总时延中传播时延或者发送时延占主导均有可能

#### 速率、带宽、吞吐量、时延总结

![233333](/img/233333.png)

#### 时延带宽积

![3241](/img/3241.png)

* 管道的长度是链路的传播时延（以时间作为单位来表示链路长度），管道的横截面积是链路的带宽，时延带宽积相当于这个管道的容积（底面积*高）

![895173](/img\895173.png)

![384215978](/img/384215978.png)

* 光纤链路长1km，则信号传播时延为5微秒

#### 往返时间

![832149789](/img/832149789.png)

![980672](/img/980672.png)

![784319](/img/784319.png)

* 卫星链路耗时较多，因为一般情况下卫星链路比较远，所带来的传播时延比较大

![17238956879](/img/17238956879.png)

![12378568](/img/12378568.png)

![32418989](/img/32418989.png)

#### 利用率

![78623489](/img/78623489.png)

![45178](/img/45178.png)

![23418798](/img/23418798.png)

* 网络利用率并非越高越好，过高的网络利用率会产生非常大的时延
  * 使用机制，动态调整输入到网络中的通信量，使网络利用率保持在合理的范围内

#### 丢包率

![321898](/img/321898.png)

![015789](/img/015789.png)

![18579823](/img/18579823.png)

![23187987](/img/23187987.png)

![909823094](/img/909823094.png)

![5798127](/img/5798127.png)

* 当网络的丢包率较高时，通常无法使网络应用正常工作

#### 时延带宽积、往返时间、利用率、丢包率总结

![3241798789](/img/3241798789.png)

### 1.6.1 常见的三种计算机网络体系结构

![](/img/9879874.png)

* 因为TCP/IP在网络层使用的协议是IP协议（网际协议），所以TCP/IP体系结构的网络层常称为网际层

![](/img/432718.png)

* 一般认为路由器的网络体系结构的最高层为网际层
* 为了互连全世界不同的网络接口，TCP/IP的网络接口层并没有规定什么内容，因此TCP/IP体系结构在实际上只有网际层、运输层、应用层

![](/img/23415522.png)

* 网际协议IP是TCP/IP体系结构网际层的核心协议
  * 传输控制协议TCP和用户数据报协议UDP是TCP/IP体系结构运输层的两个重要协议
  * TCP/IP体系结构的应用层包含了大量的应用层协议
* IP协议可以将不同的网络接口进行互连，并向其上的TCP协议和UDP协议提供网络互连服务 
  * TCP协议在享受IP协议提供的网络互联服务的基础上可向应用层的某些协议提供可靠传输的服务
  * UDP协议在享受IP协议提供的网络互连服务的基础上，可向应用层的某些协议提供不可靠传输的服务

![](/img/125389789.png)

### 1.6.2 计算机网络体系结构分层的必要性

![](/img/2323451.png)

![](/img/1285382.png)

![](/img/21398489.png)

![](/img/12379.png)

![](/img/237231.png)

![](/img/23719.png)

* 严格来说，传输媒体并不属于物理层的范畴，它并不包含在计算机网络体系结构之中，并且，计算机网络中传输的信号，并不是我们举例的简单的数字基带信号

![](/img/23412134.png)

* 主机在传输数据时，应该给数据附加上源地址和目的地址，当其他主机收到后，根据目的地址和自身地址是否匹配来决定是否接受该数据，还可以通过源地址知道这是哪个主机发来的数据

![](/img/1538950.png)

![](/img/231789.png)

* 在交换式以太网中，多对主机之间可以同时进行通信而不会产生碰撞

![](/img/231578.png)

![](/img/798125.png)

* 只要解决了物理层和数据链路层各自所面临的问题，就可以实现数据包在一个网络上传输了

![](/img/358721.png)

![](/img/451378.png)

* 处于同一个网络的IP地址的网络号相同

![](/img/1234783.png)

![](/img/4137859.png)

* 解决了物理层、数据链路层以及网络层各自的问题，就可以实现数据包在多个网络之间的传送了

![](/img/48359.png)

![](/img/1423784332.png)

* 解决了物理层、数据链路层、网络层、运输层的问题，则可以实现进程之间基于网络的通信

![](/img/23151235123.png)

![](/img/37852198.png)

![](/img/321451.png)

![](/img/321153253.png)

### 1.6.3 计算机网络体系结构分层思想举例